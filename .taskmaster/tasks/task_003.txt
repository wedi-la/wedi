# Task ID: 3
# Title: Implement User Authentication
# Status: pending
# Dependencies: 1
# Priority: high
# Description: Set up user authentication using Thirdweb for secure access control.
# Details:
Integrate Thirdweb authentication into the Next.js frontend for seamless web2/web3 login options, including email, social, and wallet connections. Implement Sign in with Ethereum (SIWE) standard with JWT tokens stored in cookies. Ensure server actions are used for a secure authentication flow. Integrate with the Python backend to validate JWTs and handle automatic blockchain wallet creation for web2 logins. Obtain Client ID and Secret Key from the Thirdweb dashboard and use a private key for JWT signing.

# Test Strategy:
Test user registration, login, and session persistence using Thirdweb Connect. Verify JWT token validity, expiration handling, and backend validation. Ensure seamless login via email, social, and wallet connections, and test automatic wallet creation for web2 logins.

# Subtasks:
## 1. Set up Thirdweb client with credentials [pending]
### Dependencies: None
### Description: Configure the Thirdweb client with necessary credentials including client ID, secret key, and auth private key.
### Details:
Follow the Thirdweb documentation to properly set up the client in the Next.js application.

## 2. Implement ThirdwebProvider in Next.js app layout [pending]
### Dependencies: 3.1
### Description: Integrate the ThirdwebProvider component into the Next.js application layout to enable authentication features.
### Details:
Ensure the provider is wrapped around the application to manage authentication state.

## 3. Create ConnectButton component with auth callbacks [pending]
### Dependencies: 3.2
### Description: Develop a ConnectButton component that handles authentication callbacks such as isLoggedIn, doLogin, getLoginPayload, and doLogout.
### Details:
Use the Thirdweb hooks and methods to manage authentication state and actions.

## 4. Implement server actions for secure auth flow [pending]
### Dependencies: 3.3
### Description: Create server-side actions to handle secure authentication flows including generatePayload, login, isLoggedIn, and logout.
### Details:
Ensure these actions are secure and properly manage user sessions.

## 5. Set up JWT generation and cookie management [pending]
### Dependencies: 3.4
### Description: Implement JWT token generation and manage cookies for session persistence.
### Details:
Ensure tokens are securely generated and stored, and cookies are managed for user sessions.

## 6. Create Python FastAPI endpoints to validate Thirdweb JWTs [pending]
### Dependencies: 3.5
### Description: Develop FastAPI endpoints to validate JWTs generated by Thirdweb for authentication.
### Details:
Ensure endpoints are secure and correctly validate the JWTs for user authentication.

## 7. Implement automatic wallet creation for web2 logins [pending]
### Dependencies: 3.6
### Description: Develop functionality to automatically create wallets for users logging in via web2 methods such as email or social logins.
### Details:
Integrate with Thirdweb to create wallets seamlessly during the authentication process.

